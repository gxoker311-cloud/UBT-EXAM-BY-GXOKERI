<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Gxoker Ultra UBT V3.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Montserrat:wght@400;500;600;700&family=Pyidaungsu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --primary: #00d2ff; 
            --secondary: #3a7bd5; 
            --success: #00ff87; 
            --danger: #ff0055; 
            --dark: #080e1a;
            --gradient: linear-gradient(135deg, #00d2ff 0%, #3a7bd5 100%);
            --glass: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Montserrat', 'Pyidaungsu', sans-serif; }

        body { 
            margin: 0; height: 100dvh; display: flex; flex-direction: column; overflow: hidden; color: #fff;
            background: radial-gradient(circle at top right, #1e293b, #080e1a);
        }

        /* ğŸš‚ Marquee */
        .train-container { background: #ffd700; color: #000; height: 28px; display: flex; align-items: center; overflow: hidden; position: relative; font-weight: 800; font-size: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
        .train-text { position: absolute; white-space: nowrap; animation: trainRun 25s linear infinite; }
        @keyframes trainRun { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* Login Screen */
        #login-screen { position: fixed; inset: 0; z-index: 5000; display: flex; align-items: center; justify-content: center; padding: 15px; background: inherit; }
        .glass-card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.5); }

        /* Exam Screen */
        #exam-screen { display: none; flex-direction: column; height: 100dvh; background: #eef2f6; color: #1e293b; }
        .ubt-header { display: flex; background: var(--dark); color: #fff; height: 50px; box-shadow: 0 3px 10px rgba(0,0,0,0.2); }
        .h-box { flex: 1; border-right: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 11px; }

        .main-view { display: flex; flex: 1; overflow: hidden; padding: 12px; gap: 12px; }
        
        /* ğŸ”¥ Ultra Dynamic Boxes */
        .q-pane, .a-pane { 
            flex: 1; background: #fff; border-radius: 25px; padding: 18px; overflow-y: auto; 
            border: 4px solid transparent; 
            background-image: linear-gradient(white, white), var(--gradient);
            background-origin: border-box; background-clip: padding-box, border-box;
            box-shadow: 8px 8px 16px #d1d9e6, -8px -8px 16px #ffffff;
        }
        
        .q-text { font-size: 13.5px; line-height: 1.6; font-weight: 600; color: #2d3748; }
        .img-q { width: 100%; max-width: 260px; border-radius: 15px; margin: 12px 0; border: 3px solid #f1f5f9; box-shadow: inset 0 2px 5px rgba(0,0,0,0.1); }

        /* ğŸ–± Sunk-in Interaction */
        .ans-item { 
            display: flex; align-items: center; padding: 12px; border-radius: 15px; 
            cursor: pointer; margin-bottom: 12px; font-size: 13px; font-weight: 600;
            background: #f8fafc; border: 1px solid #e2e8f0;
            box-shadow: 4px 4px 8px #d1d9e6, -4px -4px 8px #ffffff;
            transition: all 0.2s ease;
        }
        .ans-item:active { transform: scale(0.97); box-shadow: inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #ffffff; }
        .ans-item.selected { background: var(--gradient); color: #fff; border-color: transparent; box-shadow: inset 4px 4px 10px rgba(0,0,0,0.2); }
        .ans-num { width: 24px; height: 24px; border: 2px solid currentColor; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 12px; font-size: 10px; flex-shrink: 0; }

        .ubt-footer { display: flex; height: 55px; background: var(--dark); padding: 5px; gap: 5px; }
        .f-btn { flex: 1; color: #fff; display: flex; align-items: center; justify-content: center; cursor: pointer; font-weight: bold; font-size: 11px; border-radius: 10px; transition: 0.2s; }
        .f-btn:active { transform: translateY(2px); background: rgba(255,255,255,0.1); }

        .grammar-underline { text-decoration: underline; text-decoration-color: var(--secondary); text-decoration-thickness: 2px; font-weight: 700; color: var(--secondary); }

        /* ğŸ† Ultra Review System */
        #result-screen { position: fixed; inset: 0; z-index: 6000; background: #0f172a; display: none; flex-direction: column; align-items: center; padding: 20px; overflow-y: auto; }
        .result-card { background: #fff; width: 100%; max-width: 480px; border-radius: 30px; padding: 25px; text-align: center; color: #000; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .review-box { width: 100%; max-width: 480px; margin-top: 25px; padding-bottom: 50px; }
        .rev-card { background: #fff; border-radius: 20px; padding: 15px; margin-bottom: 15px; color: #334155; position: relative; overflow: hidden; }
        .rev-tag { position: absolute; top: 0; right: 0; padding: 5px 15px; font-size: 10px; font-weight: 900; color: #fff; border-bottom-left-radius: 15px; }

        @media (max-width: 768px) { .main-view { flex-direction: column; } }
    </style>
</head>
<body>

    <div id="login-screen">
        <div class="glass-card" style="width: 100%; max-width: 450px; overflow: hidden;">
            <div style="background: var(--gradient); padding: 25px; text-align: center; font-family: 'Orbitron'; font-weight: 700; letter-spacing: 2px;">GXOKER UBT EXAM</div>
            <div style="padding: 30px;">
                <label style="font-size:10px; color:var(--primary); font-weight: 800; letter-spacing: 1px;">STUDENT NAME</label>
                <input type="text" id="c-name" style="width:100%; padding:12px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.2); border-radius:12px; color:#fff; margin-top:8px; outline:none;" placeholder="Enter Name...">
                <div style="display:flex; gap:15px; margin-top:25px; align-items:center;">
                    <img id="img-prev" src="https://i.imgur.com/edHMTVH.jpeg" style="width:85px; height:105px; border-radius:15px; border:2px solid var(--primary); object-fit:cover;">
                    <label for="file-input" style="background:var(--gradient); padding:10px 20px; border-radius:10px; cursor:pointer; font-size:11px; font-weight:bold; box-shadow: 0 5px 15px rgba(0,210,255,0.3);">UPLOAD PHOTO</label>
                    <input type="file" id="file-input" accept="image/*" style="display:none;">
                </div>
            </div>
            <button id="start-btn" style="background: var(--gradient); color: #fff; border: none; padding: 20px; cursor: pointer; font-weight: 800; width: 100%; font-size: 16px; letter-spacing: 2px;">á€¡á€™á€¾á€á€ºá€¡á€•á€¼á€Šá€·á€ºá€”á€²á€·á€…á€–á€¼á€¯á€á€ºá€™á€šá€º </button>
        </div>
    </div>

    <div id="exam-screen">
        <div class="ubt-header">
            <div class="h-box" id="d-name">NAME</div>
            <div class="h-box" style="color:var(--primary)">V-3.0 ELITE</div>
            <div class="h-box">REM: <span id="rem-count">20</span></div>
            <div class="h-box" id="timer-val" style="color:var(--success);">20:00</div>
        </div>
        <div class="train-container">
            <div class="train-text">Eps Topik á€…á€¬á€™á€±á€¸á€•á€½á€²á€™á€¾á€¬ á€¡á€™á€¾á€á€ºá€¡á€•á€¼á€Šá€·á€ºá€”á€²á€· á€¡á€±á€¬á€„á€ºá€€á€¼á€•á€«á€…á€±á‹</div>
        </div>
        <div class="main-view">
            <div class="q-pane" id="q-content"></div>
            <div class="a-pane" id="ans-list"></div>
        </div>
        <div class="ubt-footer">
            <div class="f-btn" onclick="step(-1)">á€›á€¾á€±á€·á€á€­á€¯á€·</div>
            <div class="f-btn" onclick="openGrid()" style="background:rgba(255,255,255,0.1)">QUESTION LIST</div>
            <div class="f-btn" onclick="step(1)">á€”á€±á€¬á€€á€ºá€á€­á€¯á€·</div>
            <div class="f-btn" id="sub-btn" style="background:var(--danger); box-shadow: 0 0 15px rgba(255,0,85,0.3);">á€•á€¼á€®á€¸á€•á€¼á€®</div>
        </div>
    </div>

    <div id="result-screen">
        <div class="result-card">
            <img id="r-photo" style="width:100px; height:120px; border-radius:15px; border:3px solid var(--secondary); object-fit:cover; margin-bottom: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
            <h2 id="r-name" style="margin: 0; color:#1a202c;">NAME</h2>
            <div id="pass-fail-tag" style="font-family:'Orbitron'; font-size:38px; font-weight:900; margin: 10px 0;">PASS</div>
            <div id="res-score" style="font-size:60px; font-weight:900; color:var(--secondary); line-height:1;">0</div>
            <p id="r-stats" style="font-weight:700; color:#718096; font-size: 14px; margin-top: 10px;">Total Correct: 0/20</p>
            <button style="width:100%; padding:15px; border-radius:15px; background:var(--dark); color:#fff; border:none; font-weight:bold; cursor:pointer; margin-top:15px; font-size: 14px;" onclick="location.reload()">RETAKE EXAM</button>
        </div>
        
        <div style="color: var(--primary); margin-top: 30px; font-weight: 800; text-align: left; width: 100%; max-width: 480px; letter-spacing: 1px; font-size: 12px;">DETAILED REVIEW (á€¡á€á€±á€¸á€…á€­á€á€ºá€•á€¼á€”á€ºá€œá€Šá€ºá€…á€…á€ºá€†á€±á€¸á€›á€”á€º)</div>
        <div class="review-box" id="review-list"></div>
    </div>

<script>
    const questions = [
        { q: "[1] ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ë§ëŠ” ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ê³ ë¥´ì‹­ì‹œì˜¤.", img: "https://i.imgur.com/cxMyD5K.jpeg", a: ["ë“œë¼ì´ë²„ë¡œ ë‚˜ì‚¬ë¥¼ í’€ê³  ìˆìŠµë‹ˆë‹¤.", "ì „ê¸° ë“œë¦´ë¡œ êµ¬ë©ì„ ëš«ê³  ìˆìŠµë‹ˆë‹¤.", "ì‚¬í¬ë¡œ í‘œë©´ì„ ë§¤ë„ëŸ½ê²Œ ë‹¦ê³  ìˆìŠµë‹ˆë‹¤.", "ë§ì¹˜ë¡œ ëª»ì„ ë°•ê³  ìˆìŠµë‹ˆë‹¤."], c: 1 },
        { q: "[2] ë‹¤ìŒ ê·¸ë¦¼ì„ ë³´ê³  ë§ëŠ” ë‹¨ì–´ë‚˜ ë¬¸ì¥ì„ ê³ ë¥´ì‹­ì‹œì˜¤.", img: "https://i.imgur.com/CZbZufE.jpeg", a: ["ì†ì„ ëŒ€ì§€ ë§ˆì‹­ì‹œì˜¤. ê³ ì˜¨ ì£¼ì˜ í‘œì§€ì…ë‹ˆë‹¤.", "ì „ê¸°ê°€ íë¥´ê³  ìˆìŠµë‹ˆë‹¤. ê°ì „ ì£¼ì˜ í‘œì§€ì…ë‹ˆë‹¤.", "ë¯¸ë„ëŸ¬ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³´í–‰ ì£¼ì˜ í‘œì§€ì…ë‹ˆë‹¤.", "ë¬¼ì²´ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚™í•˜ ì£¼ì˜ í‘œì§€ì…ë‹ˆë‹¤."], c: 0 },
        { q: "[3] ë‹¤ìŒ ì¤‘ ë¶€ë¶„ì´ ë¬¸ë²•ì ìœ¼ë¡œ ë§ëŠ” ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>1. ì–´ì œ ì¹œêµ¬ì™€ ì˜í™”ë¥¼ (<span class='grammar-underline'>ë³´ëŠë¼ê³ </span>) ìˆ™ì œë¥¼ ëª» í–ˆì–´ìš”.<br>2. ë‚ ì”¨ê°€ (<span class='grammar-underline'>ì¶”ìš°ë©´</span>) ë°˜ë°”ì§€ë¥¼ ì…ìœ¼ì„¸ìš”.<br>3. í•œêµ­ë§ì„ (<span class='grammar-underline'>ë°°ìš°ëŸ¬</span>) ë„ì„œê´€ì— ìˆì—ˆìŠµë‹ˆë‹¤.<br>4. ë°¥ì„ (<span class='grammar-underline'>ë¨¹ìœ¼ë©´ì„œ</span>) ì†ì„ ì”»ì—ˆìŠµë‹ˆë‹¤.", a: ["1ë²ˆ", "2ë²ˆ", "3ë²ˆ", "4ë²ˆ"], c: 0 },
        { q: "[4] ë‹¤ìŒ ì¤‘ ë¶€ë¶„ì´ ë¬¸ë²•ì ìœ¼ë¡œ ë§ëŠ” ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>1. ì¼ì„ (<span class='grammar-underline'>í•˜ë„</span>) í”¼ê³¤í•˜ì§€ ì•Šì•„ìš”.<br>2. ê³ í–¥ì— (<span class='grammar-underline'>ê°”ë”ë‹ˆ</span>) ê¸°ì°¨ê°€ ì´ë¯¸ ë– ë‚¬ì–´ìš”.<br>3. ë…¸ë˜ë¥¼ (<span class='grammar-underline'>ë“£ëŠ”ë°</span>) ì¶¤ì„ ì·„ì–´ìš”.<br>4. ì¼í•  ë•Œ ì•ˆì „ëª¨ë¥¼ (<span class='grammar-underline'>ì“°ë ¤ë©´</span>) ì•ˆ ë©ë‹ˆë‹¤.", a: ["1ë²ˆ", "2ë²ˆ", "3ë²ˆ", "4ë²ˆ"], c: 1 },
        { q: "[5] ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ê°€ì¥ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>í”„ë ˆìŠ¤ ì‘ì—…ì„ í•  ë•ŒëŠ” ì†ì´ ê¸°ê³„ì— ë¼ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ì‚¬ê³ ê°€ ë‚˜ë©´ ì¦‰ì‹œ _____ì„/ë¥¼ ëˆŒëŸ¬ ê¸°ê³„ë¥¼ ë©ˆì¶°ì•¼ í•©ë‹ˆë‹¤.", a: ["ì „ì› ë²„íŠ¼", "ë¹„ìƒ ì •ì§€ ìŠ¤ìœ„ì¹˜", "ë¦¬ëª¨ì»¨", "ì†ì¡ì´"], c: 1 },
        { q: "[6] ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ê°€ì¥ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>í•œêµ­ì—ì„œ ì¼í•˜ëŠ” ê·¼ë¡œìëŠ” ì„ê¸ˆ, ê·¼ë¡œ ì‹œê°„, íœ´ì¼ ë“±ì´ ì íŒ _____ì„/ë¥¼ ë°˜ë“œì‹œ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë˜ì•¼ ë‚˜ì¤‘ì— ì„ê¸ˆ ë¬¸ì œ ë“±ì´ ìƒê²¼ì„ ë•Œ ë³´í˜¸ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", a: ["ì´ë ¥ì„œ", "ê·¼ë¡œ ê³„ì•½ì„œ", "ìê¸°ì†Œê°œì„œ", "ì¶œì…êµ­ ì‹ ê³ ì„œ"], c: 1 },
        { q: "[7] ë‹¤ìŒ ë‹¨ì–´ì˜ ë¹„ìŠ·í•œ ë§ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?<br><b>ê¸°ê³„ë¥¼ ì¡°ì‘í•˜ë‹¤</b>", a: ["ê³ ì¹˜ë‹¤", "ë‹¤ë£¨ë‹¤", "ë°”ê¾¸ë‹¤", "íŒ”ë‹¤"], c: 1 },
        { q: "[8] ë‹¤ìŒ ë‹¨ì–´ì˜ ë°˜ëŒ€ë§ì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?<br><b>ë‚˜ì‚¬ë¥¼ ì¡°ì´ë‹¤</b>", a: ["í’€ë‹¤", "ë°•ë‹¤", "ê¹ë‹¤", "ëš«ë‹¤"], c: 0 },
        { q: "[9] ë‹¤ìŒ í‘œì§€íŒì´ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì…ê¹Œ?", img: "https://i.imgur.com/9D2zVcT.jpeg", a: ["í˜‘ì°© ì£¼ì˜", "ì „ë„ ì£¼ì˜", "ê°ì „ ì£¼ì˜", "í™”ì¬ ì£¼ì˜"], c: 0 },
        { q: "[10] ë‹¤ìŒì€ ì™¸êµ­ì¸ ê·¼ë¡œìë“¤ì´ í‡´ê·¼ í›„ ê°€ì¥ ë§ì´ í•˜ëŠ” í™œë™ì— ëŒ€í•œ ì¡°ì‚¬ì…ë‹ˆë‹¤. ì˜³ì€ ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", img: "https://i.imgur.com/mGXVhJO.jpeg", a: ["TVë¥¼ ë³´ëŠ” ì‚¬ëŒì´ ê°€ì¥ ë§ìŠµë‹ˆë‹¤.", "SNSë‚˜ ì¸í„°ë„·ì„ í•˜ëŠ” ì‚¬ëŒì´ ì ˆë°˜ì„ ë„˜ìŠµë‹ˆë‹¤.", "ìš´ë™í•˜ëŠ” ì‚¬ëŒì´ ê³µë¶€í•˜ëŠ” ì‚¬ëŒë³´ë‹¤ ì ìŠµë‹ˆë‹¤.", "ê³µë¶€í•˜ëŠ” ì‚¬ëŒì´ ë‘ ë²ˆì§¸ë¡œ ë§ìŠµë‹ˆë‹¤."], c: 1 },
        { q: "[11] ë‹¤ìŒ ê¸€ì˜ ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>'ì™¸êµ­ì¸ ê·¼ë¡œìê°€ ì§ˆë³‘ì´ë‚˜ ë¶€ìƒ ì™¸ì˜ ì‚¬ìœ ë¡œ ì…ì›í•˜ê±°ë‚˜ ì‚¬ë§í–ˆì„ ë•Œ ë³´ìƒë°›ê¸° ìœ„í•´ ê°€ì…í•˜ëŠ” ë³´í—˜ì€ ìƒí•´ë³´í—˜ì…ë‹ˆë‹¤. ì´ëŠ” ì—…ë¬´ ì™¸ì ì¸ ì‚¬ê³ ì— ëŒ€í•´ ë³´ì¥í•´ ì¤ë‹ˆë‹¤.'", a: ["ìƒí•´ë³´í—˜ì€ ì—…ë¬´ ì¤‘ ì‚¬ê³ ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.", "ì•„íŒŒì„œ ë³‘ì›ì— ê°ˆ ë•Œë§Œ ì‚¬ìš©í•˜ëŠ” ë³´í—˜ì…ë‹ˆë‹¤.", "ì—…ë¬´ì™€ ê´€ê³„ì—†ëŠ” ì‚¬ê³ ê°€ ë‚¬ì„ ë•Œ ë³´ìƒì„ ë°›ìŠµë‹ˆë‹¤.", "ëª¨ë“  ê·¼ë¡œìëŠ” ìƒí•´ë³´í—˜ì— ê°€ì…í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤."], c: 2 },
        { q: "[12] ë‹¤ìŒ ê¸€ì„ ì½ê³  ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ê°€ì¥ ì•Œë§ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>'ì‘ì—…ì¥ì—ì„œ ìœ í•´ê°€ìŠ¤ë‚˜ ë¶„ì§„ì´ ë§ì´ ë°œìƒí•˜ëŠ” ê²½ìš°ì—ëŠ” ë°˜ë“œì‹œ _____ì„/ë¥¼ ì°©ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜¸í¡ê¸°ì— ë¬¸ì œê°€ ìƒê²¨ í° ë³‘ì— ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'", a: ["ë°©ì§„ë§ˆìŠ¤í¬", "ì•ˆì „í™”", "ê·€ë§ˆê°œ", "ë³´ì•ˆê²½"], c: 0 },
        { q: "[13] ì–´ì œ íšŒì‚¬ ë™ë£Œê°€ ì•„íŒŒì„œ ë³‘ì›ì— ì…ì›í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì˜¤ëŠ˜ í‡´ê·¼ í›„ì— ë³‘ë¬¸ì•ˆì„ ______ í•©ë‹ˆë‹¤.", a: ["ê°€ê¸°ë¡œ", "ê°€ì•¼", "ê°€ë©´ì„œ", "ê°€ë‹ˆê¹Œ"], c: 0 },
        { q: "[14] ë…¼ì— ë†ì•½ì„ ë¿Œë¦´ ë•ŒëŠ” ë°”ëŒì„ ______  ë¿Œë ¤ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë†ì•½ì´ ëª¸ì— ë¬»ê±°ë‚˜ ë§ˆì‹¤ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.", a: ["ë§ˆì£¼ë³´ê³ ", "ë“±ì§€ê³ ", "ì§€ë‚˜ê°€ê³ ", "ê±´ë„ˆê³ "], c: 1 },
        { q: "[15] ë‹¤ìŒ ê¸€ì„ ì½ê³  ë¬´ì—‡ì— ëŒ€í•œ ê¸€ì¸ì§€ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>í•œêµ­ì—ì„œëŠ” ê¸¸ê±°ë¦¬ì— ì“°ë ˆê¸°ë¥¼ í•¨ë¶€ë¡œ ë²„ë¦¬ë©´ ì•ˆ ë©ë‹ˆë‹¤. ì“°ë ˆê¸° ì¢…ë¥˜ì— ë”°ë¼ ì§€ì •ëœ ë´‰íˆ¬ì— ë‹´ì•„ ì •í•´ì§„ ì¥ì†Œì— ë²„ë ¤ì•¼ í•˜ë©°, ì´ë¥¼ ì–´ê¸°ë©´ ê³¼íƒœë£Œë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", a: ["ì“°ë ˆê¸° ì¢…ëŸ‰ì œ", "ë¶„ë¦¬ìˆ˜ê±° ë°©ë²•", "í™˜ê²½ ì˜¤ì—¼ì˜ ì›ì¸", "í•œêµ­ì˜ êµí†µ ë²•ê·œ"], c: 0 },
        { q: "[16] ì´ê²ƒì€ ê³µì‚¬ í˜„ì¥ì—ì„œ ë¬´ê±°ìš´ ìì¬ë¥¼ ì‹¤ì–´ ë‚˜ë¥´ëŠ” ê¸°ê³„ì…ë‹ˆë‹¤. ê¸´ í¬í¬ê°€ ë‹¬ë ¤ ìˆì–´ íŒ”ë ˆíŠ¸ë¥¼ ë“¤ì–´ ì˜¬ë¦´ ìˆ˜ ìˆìœ¼ë©° ìš´ì „ìê°€ ì§ì ‘ íƒ€ê³  ì¡°ì¢…í•©ë‹ˆë‹¤.", a: ["í¬ë ˆì¸", "ì§€ê²Œì°¨", "íŠ¸ëŸ­", "ë¶ˆë„ì €"], c: 1 },
        { q: "[17] ë‹¤ìŒ ê¸€ì„ ì½ê³  ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>í•œêµ­ì˜ ì§ì¥ì—ì„œëŠ” ë™ë£Œë“¤ê³¼ í•¨ê»˜ ì‹ì‚¬í•˜ëŠ” 'íšŒì‹' ë¬¸í™”ê°€ ìˆìŠµë‹ˆë‹¤. íšŒì‹ì„ í†µí•´ ì„œë¡œ ì¹œí•´ì§€ê³  ì—…ë¬´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ í’€ê¸°ë„ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìµœê·¼ì—ëŠ” ê°•ì œë¡œ ì°¸ì„í•˜ê¸°ë³´ë‹¤ ììœ ë¡œìš´ ë¶„ìœ„ê¸°ë¡œ ë°”ë€Œê³  ìˆìŠµë‹ˆë‹¤.", a: ["íšŒì‹ì€ ì—…ë¬´ì˜ ì—°ì¥ì´ë¼ ë¬´ì¡°ê±´ ê°€ì•¼ í•©ë‹ˆë‹¤.", "íšŒì‹ì€ ë™ë£Œë“¤ê³¼ ì¹œí•´ì§€ëŠ” ê¸°íšŒê°€ ë©ë‹ˆë‹¤.", "í•œêµ­ì—ëŠ” íšŒì‹ ë¬¸í™”ê°€ ì•„ì˜ˆ ì—†ìŠµë‹ˆë‹¤.", "íšŒì‹ ë•ŒëŠ” ìˆ ì„ ë§ì´ ë§ˆì…”ì•¼ í•©ë‹ˆë‹¤."], c: 1 },
        { q: "[18] ë‹¤ìŒ ê¸€ì„ ì½ê³  ë‚´ìš©ê³¼ ê°™ì€ ê²ƒì„ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>ì‘ì—…ì¥ ë°”ë‹¥ì— ë¬¼ê¸°ê°€ ìˆìœ¼ë©´ ë¯¸ë„ëŸ¬ì ¸ì„œ ë„˜ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ì „ê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ê³„ ì£¼ë³€ì— ë¬¼ì´ ìˆìœ¼ë©´ ê°ì „ ì‚¬ê³ ì˜ ìœ„í—˜ì´ ë§¤ìš° í¬ë¯€ë¡œ í•­ìƒ ë°”ë‹¥ì„ ê±´ì¡°í•˜ê²Œ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.", a: ["ë°”ë‹¥ì— ë¬¼ì´ ìˆì–´ë„ ì „ê¸°ëŠ” ì•ˆì „í•©ë‹ˆë‹¤.", "ê°ì „ ì‚¬ê³ ë¥¼ ë§‰ìœ¼ë ¤ë©´ ë°”ë‹¥ì˜ ë¬¼ê¸°ë¥¼ ë‹¦ì•„ì•¼ í•©ë‹ˆë‹¤.", "ë„˜ì–´ì§€ëŠ” ì‚¬ê³ ëŠ” ë¬¼ê¸°ì™€ ìƒê´€ì´ ì—†ìŠµë‹ˆë‹¤.", "ë¬¼ê¸°ê°€ ìˆëŠ” ê³³ì—ì„œ ì „ê¸° ê¸°ê³„ë¥¼ ì‚¬ìš©í•´ë„ ë©ë‹ˆë‹¤."], c: 1 },
        { q: "[19] ë‹¤ìŒ ì„¤ëª…ì— ì•Œë§ì€ ì–´íœ˜ë¥¼ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>ë¬¼ê±´ì„ ìš´ë°˜í•˜ê±°ë‚˜ ìŒ“ì„ ë•Œ ë°‘ì— ë°›ì¹˜ëŠ” ë‚˜ë¬´ë‚˜ í”Œë¼ìŠ¤í‹±ìœ¼ë¡œ ëœ íŒì…ë‹ˆë‹¤. ì§€ê²Œì°¨ë¥¼ ì‚¬ìš©í•  ë•Œ í•„ìˆ˜ì ì…ë‹ˆë‹¤.", a: ["íŒ”ë ˆíŠ¸ ", "ìƒì", "ì„ ë°˜", "ì»¨í…Œì´ë„ˆ"], c: 0 },
        { q: "[20] ë‹¤ìŒ ì„¤ëª…ì— ì•Œë§ì€ ì–´íœ˜ë¥¼ ê³ ë¥´ì‹­ì‹œì˜¤.<br><br>ê·¼ë¡œìê°€ 1ë…„ ë™ì•ˆ ì„±ì‹¤íˆ ì¼í–ˆì„ ë•Œ, 1ë…„ì— í•œ ë²ˆ ì§€ê¸‰ë˜ëŠ” ê¸°ë³¸ê¸‰ ì™¸ì˜ ë³´ë„ˆìŠ¤ë¥¼ ë¬´ì—‡ì´ë¼ê³  í•©ë‹ˆê¹Œ?", a: ["ìƒì—¬ê¸ˆ", "í‡´ì§ê¸ˆ", "ê¸°ë³¸ê¸‰", "ìˆ˜ë‹¹"], c: 0 }
    ];

    let idx = 0, userAns = Array(20).fill(null), clock = 1200, timerId, userPhoto = "https://i.imgur.com/edHMTVH.jpeg";

    document.getElementById('file-input').onchange = (e) => {
        const reader = new FileReader();
        reader.onload = (ev) => { userPhoto = ev.target.result; document.getElementById('img-prev').src = userPhoto; };
        reader.readAsDataURL(e.target.files[0]);
    };

    document.getElementById('start-btn').onclick = () => {
        if(!document.getElementById('c-name').value) return alert("Please enter name!");
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('exam-screen').style.display = 'flex';
        document.getElementById('d-name').innerText = document.getElementById('c-name').value.toUpperCase();
        render();
        timerId = setInterval(() => {
            clock--;
            let m = Math.floor(clock/60), s = clock%60;
            document.getElementById('timer-val').innerText = `${m}:${s<10?'0':''}${s}`;
            if(clock <= 0) finish();
        }, 1000);
    };

    function render() {
        const qData = questions[idx];
        document.getElementById('q-content').innerHTML = `
            <div style="font-size:10px; color:var(--secondary); font-weight:800; margin-bottom:5px;">QUESTION TRACKER: ${idx + 1}/20</div>
            <div class="q-text">${qData.q}</div>
            ${qData.img ? `<img src="${qData.img}" class="img-q">` : ''}`;
        
        document.getElementById('ans-list').innerHTML = qData.a.map((opt, i) => `
            <div class="ans-item ${userAns[idx] === i ? 'selected' : ''}" onclick="pick(${i})">
                <div class="ans-num">${i+1}</div><div>${opt}</div>
            </div>`).join('');
        document.getElementById('rem-count').innerText = 20 - userAns.filter(a => a !== null).length;
    }

    window.pick = (i) => { userAns[idx] = i; render(); };
    window.step = (d) => { if(idx+d >= 0 && idx+d < 20) { idx += d; render(); } };

    async function finish() {
        if(!confirm("Are you sure you want to finish the exam?")) return;
        clearInterval(timerId);
        let correctCount = 0;
        let reviewHtml = "";

        questions.forEach((q, i) => {
            const isCorrect = userAns[i] === q.c;
            if(isCorrect) correctCount++;
            
            reviewHtml += `
                <div class="rev-card" style="box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid ${isCorrect ? '#00ff87' : '#ff0055'}">
                    <div class="rev-tag" style="background:${isCorrect ? '#00ff87' : '#ff0055'}">${isCorrect ? 'CORRECT' : 'WRONG'}</div>
                    <div style="font-weight:700; font-size:13px; margin-bottom:10px; padding-right:60px;">Q${i+1}. ${q.q}</div>
                    ${q.img ? `<img src="${q.img}" style="width:120px; border-radius:10px; margin-bottom:10px; display:block; border:1px solid #eee;">` : ''}
                    <div style="font-size:12px; margin-top:10px; background:#f8fafc; padding:10px; border-radius:10px;">
                        <div style="color:${isCorrect ? '#2f855a' : '#c53030'}; font-weight:700;">â— Your Choice: ${userAns[i] !== null ? q.a[userAns[i]] : '<i style="color:gray">Skipped</i>'}</div>
                        <div style="color:#2b6cb0; font-weight:700; margin-top:4px;">â— Correct Ans: ${q.a[q.c]}</div>
                    </div>
                </div>`;
        });

        let score = correctCount * 5;
        let name = document.getElementById('c-name').value;

        // GOOGLE SHEET SUBMIT
        const FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSelN5ZLVE-zLU7kCKDN0_-BFCrTk3490VR0g1IhjeJhc4Po-A/formResponse";
        const formData = new FormData();
        formData.append("entry.1764438174", name);
        formData.append("entry.1961871702", score);
        fetch(FORM_URL, { method: "POST", mode: "no-cors", body: formData });

        document.getElementById('r-name').innerText = name.toUpperCase();
        document.getElementById('r-photo').src = userPhoto;
        document.getElementById('res-score').innerText = score;
        document.getElementById('r-stats').innerText = `TOTAL CORRECT: ${correctCount}/20`;
        document.getElementById('pass-fail-tag').innerText = score >= 80 ? "PASS" : "FAIL";
        document.getElementById('pass-fail-tag').style.color = score >= 80 ? "#00ff87" : "#ff0055";
        document.getElementById('review-list').innerHTML = reviewHtml;
        
        document.getElementById('exam-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'flex';
    }

    window.openGrid = () => {
        let grid = userAns.map((a, i) => `<div onclick="idx=${i};render();closeGrid();" style="padding:12px 0; background:${a!==null?'var(--gradient)':'#edf2f7'}; color:${a!==null?'#fff':'#4a5568'}; border-radius:12px; text-align:center; cursor:pointer; font-weight:800; font-size:12px; box-shadow:${a!==null?'0 4px 10px rgba(0,210,255,0.3)':'none'};">${i+1}</div>`).join('');
        const pop = document.createElement('div'); pop.id = "grid-pop";
        pop.style = "position:fixed; inset:0; background:rgba(8,14,26,0.9); backdrop-filter:blur(10px); z-index:9000; display:flex; align-items:center; justify-content:center; padding:20px;";
        pop.innerHTML = `<div class="glass-card" style="background:#fff; padding:30px; border-radius:30px; display:grid; grid-template-columns:repeat(5,1fr); gap:12px; width:100%; max-width:350px; border:none;">${grid}</div>`;
        pop.onclick = (e) => { if(e.target.id === 'grid-pop') closeGrid(); };
        document.body.appendChild(pop);
    };
    window.closeGrid = () => document.getElementById('grid-pop')?.remove();
    document.getElementById('sub-btn').onclick = finish;
</script>
</body>
  </html>

